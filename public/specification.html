<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#0f1419" />
    <meta
      name="description"
      content="Bot Developer Specification for Fog of War - create your own AI bots"
    />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="manifest" href="/manifest.json" />
    <title>Fog of War - Bot Specification</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/page.css" />
    <style>
      /* Additional styles for markdown content */
      #spec-content h1 {
        display: none; /* Hide the first h1 since we have it in the header */
      }

      #spec-content h2 {
        font-family: "Orbitron", monospace;
        font-weight: 700;
        color: #1a202c;
        font-size: 1.8em;
        margin: 50px 0 25px 0;
        padding-bottom: 15px;
        border-bottom: 3px solid #ffd700;
        position: relative;
      }

      #spec-content h2::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 0;
        width: 100px;
        height: 3px;
        background: linear-gradient(90deg, #ffd700 0%, transparent 100%);
      }

      #spec-content h3 {
        font-family: "Orbitron", monospace;
        font-weight: 700;
        color: #1a202c;
        font-size: 1.3em;
        margin: 30px 0 20px 0;
      }

      #spec-content h4 {
        font-weight: 700;
        color: #1a202c;
        margin: 20px 0 10px 0;
      }

      #spec-content p {
        color: #2d3748;
        line-height: 1.8;
        margin: 15px 0;
      }

      #spec-content ul,
      #spec-content ol {
        color: #2d3748;
        line-height: 1.8;
        margin: 15px 0;
        padding-left: 30px;
      }

      #spec-content li {
        margin: 8px 0;
      }

      #spec-content code {
        background: #f7fafc;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: "Monaco", "Courier New", monospace;
        font-size: 0.9em;
        color: #e53e3e;
      }

      #spec-content pre {
        background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        padding: 20px;
        border-radius: 12px;
        border-left: 4px solid #4a5568;
        overflow-x: auto;
        margin: 20px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      #spec-content pre code {
        background: none;
        padding: 0;
        color: #1a202c;
        font-size: 0.95em;
      }

      #spec-content table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: #f7fafc;
        border-radius: 8px;
        overflow: hidden;
      }

      #spec-content th {
        background: #4a5568;
        color: white;
        padding: 12px;
        text-align: left;
        font-weight: 600;
      }

      #spec-content td {
        padding: 12px;
        border-bottom: 1px solid #e2e8f0;
      }

      #spec-content tr:last-child td {
        border-bottom: none;
      }

      #spec-content blockquote {
        border-left: 4px solid #ffd700;
        padding-left: 20px;
        margin: 20px 0;
        color: #4a5568;
        font-style: italic;
      }

      .loading {
        text-align: center;
        padding: 40px;
        color: #718096;
        font-size: 1.2em;
      }

      .error {
        text-align: center;
        padding: 40px;
        color: #e53e3e;
        font-size: 1.1em;
      }
    </style>
  </head>
  <body>
    <header>
      <a href="/" class="back-link">
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M19 12H5M5 12L12 19M5 12L12 5"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        Back to Home
      </a>
      <div class="header-inner">
        <div class="header-title">
          <h1>Bot Developer Specification</h1>
          <p>Create your own AI bots with our comprehensive API</p>
        </div>
        <nav>
          <a href="/about">About</a>
          <a href="/how-to-play">How to play</a>
          <a href="/controls">Controls</a>
          <a href="/specification">Specification</a>
          <a href="/credits">Credits</a>
        </nav>
      </div>
    </header>
    <div class="container">
      <section>
        <div class="section-header">
          <h2>Documentation</h2>
        </div>
        <p style="margin-bottom: 20px; color: #666">
          Complete API reference for building AI bots that can play Fog of
          War.<br />
          <a
            href="/BOT_SPECIFICATION.md"
            download
            style="color: #3182ce; font-weight: 600"
          >
            Download as Markdown
          </a>
        </p>
        <div id="spec-content">
          <div class="loading">Loading specification...</div>
        </div>
      </section>
    </div>

    <script src="/logMessage.js"></script>
    <script src="/optionsManager.js"></script>
    <script src="/soundManager.js"></script>
    <script src="/konami.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      // Fetch and render the markdown file
      async function loadSpecification() {
        try {
          const response = await fetch("/BOT_SPECIFICATION.md");
          const markdown = await response.text();

          // Configure marked for code highlighting
          marked.setOptions({
            highlight: function (code, lang) {
              return code;
            },
            breaks: true,
            gfm: true,
          });

          const html = marked.parse(markdown);
          document.getElementById("spec-content").innerHTML = html;

          // Add syntax highlighting class to code blocks
          document.querySelectorAll("pre code").forEach((block) => {
            block.classList.add("language-javascript");
          });
        } catch (error) {
          document.getElementById("spec-content").innerHTML =
            '<div class="error">Failed to load specification. Please try again.</div>';
          console.error("Error loading specification:", error);
        }
      }

      loadSpecification();
    </script>
  </body>
</html>
